{"version":3,"sources":["achievementMgr.ts"],"names":[],"mappings":";;;;;AAAA,6DAAwD;AAGxD,uDAAsD;AACtD,qCAAgC;AAEhC,IAAI,OAAO,GAAG,iBAAO,CAAC,WAAW,EAAE,CAAC;AAEpC;IAA4C,kCAAO;IAKlD;QAAA,YACC,iBAAO,SAKP;QAVM,sBAAgB,GAAQ,IAAI,CAAA;QAC5B,iBAAW,GAAQ,EAAE,CAAC;QAC7B,gFAAgF;QACzE,YAAM,GAAY,KAAK,CAAC;QAG9B,KAAI,CAAC,MAAM,GAAG;YACb,2BAA2B,EAAE,KAAI,CAAC,cAAc;SAChD,CAAC;;IAEH,CAAC;IACM,0CAAiB,GAAxB,UAAyB,EAAU;QAClC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACtD,IAAI,WAAW,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;YAC3C,IAAI,WAAW,CAAC,EAAE,IAAI,EAAE,EAAE;gBACzB,OAAO,WAAW,CAAC;aACnB;SACD;QACD,OAAO,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACnC,CAAC;IACD,2CAAkB,GAAlB;QACC,IAAI,KAAK,GAAG,2BAA2B,CAAC;QACxC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAA;IACrB,CAAC;IACD,uCAAc,GAAd,UAAe,GAAY;QAC1B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,eAAe,GAAG,GAAG,CAAC,aAAa,CAAC,iBAAO,CAAC,cAAc,CAAC,CAAC;QAChE,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,eAAe,CAAC,CAAA;QAC9C,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,GAAG,CAAC,CAAA;IAC1C,CAAC;IACD,wCAAe,GAAf,UAAgB,IAAI;QACnB,IAAI;QACJ,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,aAAa,CAAC,sBAAsB,CAAC,CAAC,IAAI,CAAC;QACxE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACrC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;SAC3D;QACD,IAAI,CAAC,WAAW,GAAC,IAAI,CAAA;QACrB,EAAE,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,CAAA;IACrC,CAAC;IAGa,0BAAW,GAAzB;QACC,IAAI,cAAc,CAAC,SAAS,IAAI,IAAI,EAAE;YACrC,cAAc,CAAC,SAAS,GAAG,IAAI,cAAc,EAAE,CAAC;SAChD;QACD,OAAO,cAAc,CAAC,SAAS,CAAC;IACjC,CAAC;IAPD,OAAO;IACQ,wBAAS,GAAmB,IAAI,CAAC;IAOjD,qBAAC;CAhDD,AAgDC,CAhD2C,iBAAO,GAgDlD;kBAhDoB,cAAc","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\manager\\public","sourcesContent":["import BaseMgr from \"../../framework/baseClass/BaseMgr\";\nimport Package from \"../../framework/net/package\";\n\nimport { dataids } from \"../../framework/net/dataids\";\nimport UserMgr from \"./userMgr\";\nimport GameNet from \"../../framework/modules/GameNet\";\nlet userMgr = UserMgr.getInstance();\n\nexport default class AchievementMgr extends BaseMgr {\n\tpublic achievementTabal: any = null\n\tpublic achievement: any = [];\n\t//public achievementId = [1001, 1009, 1018, 1024, 1030, 1036, 1043, 1048, 1053];\n\tpublic isInit: boolean = false;\n\tconstructor() {\n\t\tsuper();\n\t\tthis.routes = {\n\t\t\t\"plaza.data.reqAchieveInfo\": this.reqAchieveInfo,\n\t\t};\n\n\t}\n\tpublic selectAchievement(id: number): any {\n\t\tfor (let i = 0; i < this.achievementTabal.length; i++) {\n\t\t\tlet achievement = this.achievementTabal[i];\n\t\t\tif (achievement.id == id) {\n\t\t\t\treturn achievement;\n\t\t\t}\n\t\t}\n\t\treturn console.log(\"没有该成就id\", id);\n\t}\n\tsendReqAchieveInfo() {\n\t\tlet route = 'plaza.data.reqAchieveInfo';\n\t\tthis.send_msg(route)\n\t}\n\treqAchieveInfo(msg: Package): void {\n\t\tthis.isInit = true;\n\t\tlet achievementInfo = msg.getDataByType(dataids.ID_ACHIEVEINFO);\n\t\tconsole.log(\"-----成就信息-----\", achievementInfo)\n\t\tthis.initAchieveData(achievementInfo.arr)\n\t}\n\tinitAchieveData(data) {\n\t\t//查表\n\t\tthis.achievementTabal = this.getConfigSync(\"chengjiu_Achievement\").json;\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tdata[i].tableInfo = this.selectAchievement(data[i].itemId);\n\t\t}\n\t\tthis.achievement=data\n\t\tcc.log(\"---成就---\", this.achievement)\n\t}\n\t// 单例处理\n\tprivate static _instance: AchievementMgr = null;\n\tpublic static getInstance(): AchievementMgr {\n\t\tif (AchievementMgr._instance == null) {\n\t\t\tAchievementMgr._instance = new AchievementMgr();\n\t\t}\n\t\treturn AchievementMgr._instance;\n\t}\n}\n\n"]}