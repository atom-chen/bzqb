{"version":3,"sources":["itemMgr.ts"],"names":[],"mappings":";;;;;AAAA,6DAAwD;AAGxD,uDAAsD;AACtD,qCAAgC;AAEhC,IAAI,OAAO,GAAG,iBAAO,CAAC,WAAW,EAAE,CAAC;AACpC,IAAK,IAGJ;AAHD,WAAK,IAAI;IACL,uCAAY,CAAA;IACZ,mCAAY,CAAA;AAChB,CAAC,EAHI,IAAI,KAAJ,IAAI,QAGR;AACD;IAAqC,2BAAO;IAKxC;QAAA,YACI,iBAAO,SAIV;QATM,eAAS,GAAQ,IAAI,CAAA,CAAqB,IAAI;QAC9C,YAAM,GAAQ,IAAI,CAAA,CAAqB,MAAM;QAC7C,UAAI,GAAQ,IAAI,CAAC,CAAqB,KAAK;QAI9C,KAAI,CAAC,MAAM,GAAG;YACV,wBAAwB,EAAE,KAAI,CAAC,sBAAsB;SACxD,CAAC;;IACN,CAAC;IACO,wCAAsB,GAA9B,UAA+B,GAAY;QACvC,IAAI,QAAQ,GAAG,GAAG,CAAC,aAAa,CAAC,iBAAO,CAAC,WAAW,CAAC,CAAC;QACtD,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,QAAQ,CAAC,CAAC;QAC7C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC;QACxD,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAA;IAC3B,CAAC;IAEM,4BAAU,GAAjB,UAAkB,EAAU;QACxB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC5C,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAC7B,IAAI,IAAI,CAAC,EAAE,IAAI,EAAE,EAAE;gBACf,OAAO,IAAI,CAAC;aACf;SACJ;QACD,OAAO,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IAClC,CAAC;IACM,0BAAQ,GAAf,UAAgB,IAAS;QACrB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAClC,IAAI,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;YAC/C,IAAI,GAAG,GAAQ;gBACX,UAAU,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;gBACtB,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM;gBACtB,QAAQ,EAAE,QAAQ;aACrB,CAAA;YACD,QAAQ,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;gBACpB,KAAK,IAAI,CAAC,MAAM;oBACZ,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;oBAClB,MAAM;gBACV,KAAK,IAAI,CAAC,IAAI;oBACV,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;oBAChB,MAAM;aACb;SACJ;IAEL,CAAC;IAIa,mBAAW,GAAzB;QACI,IAAI,OAAO,CAAC,SAAS,IAAI,IAAI,EAAE;YAC3B,OAAO,CAAC,SAAS,GAAG,IAAI,OAAO,EAAE,CAAC;SACrC;QACD,OAAO,OAAO,CAAC,SAAS,CAAC;IAC7B,CAAC;IAPD,OAAO;IACQ,iBAAS,GAAY,IAAI,CAAC;IAQ7C,cAAC;CAxDD,AAwDC,CAxDoC,iBAAO,GAwD3C;kBAxDoB,OAAO","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\manager\\public","sourcesContent":["import BaseMgr from \"../../framework/baseClass/BaseMgr\";\nimport Package from \"../../framework/net/package\";\n\nimport { dataids } from \"../../framework/net/dataids\";\nimport UserMgr from \"./userMgr\";\nimport GameNet from \"../../framework/modules/GameNet\";\nlet userMgr = UserMgr.getInstance();\nenum ITEM{\n    WINKEY=10006,\n    CHIP = 10005,\n}\nexport default class ItemMgr extends BaseMgr {\n    public itemTable: any = null                     //道具\n    public winKey: any = null                     //胜利钥匙\n    public chip: any = null;                     //碎片 \n\n    constructor() {\n        super();\n        this.routes = {\n            'plaza.data.reqItemList': this.plaza_data_reqItemList,\n        };\n    }\n    private plaza_data_reqItemList(msg: Package): void {\n        let ItemInfo = msg.getDataByType(dataids.ID_ALLITEMS);\n        console.log(\"--------道具数据-------\", ItemInfo);\n        this.itemTable = this.getConfigSync(\"daoju_daoju\").json;\n        this.initData(ItemInfo)\n    }\n\n    public selectItem(id: number): any {\n        for (let i = 0; i < this.itemTable.length; i++) {\n            let item = this.itemTable[i];\n            if (item.id == id) {\n                return item;\n            }\n        }\n        return console.log(\"没有该道具id\");\n    }\n    public initData(data: any): void {\n        for (let i = 0; i < data.length; i++) {\n            let obj_data = this.selectItem(data[i].itemId);\n            let obj: any = {\n                id_service: data[i].id,\n                amount: data[i].amount,\n                itemInfo: obj_data,\n            }\n            switch (data[i].itemId) {\n                case ITEM.WINKEY:\n                    this.winKey = obj;\n                    break;\n                case ITEM.CHIP:\n                    this.chip = obj;\n                    break;\n            }\n        }\n\n    }\n\n    // 单例处理\n    private static _instance: ItemMgr = null;\n    public static getInstance(): ItemMgr {\n        if (ItemMgr._instance == null) {\n            ItemMgr._instance = new ItemMgr();\n        }\n        return ItemMgr._instance;\n    }\n\n}\n\n"]}