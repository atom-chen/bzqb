{"version":3,"sources":["msgBox.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\modules\\public\\script","sourcesContent":["import BaseModel from \"../../../framework/baseClass/BaseModel\";\nimport BaseView from \"../../../framework/baseClass/BaseView\";\nimport BaseCtrl from \"../../../framework/baseClass/BaseCtrl\";\n\n/*\nauthor: 张志强\n日期:2018-11-09 16:51:50\n*/\n\n//MVC模块,\nconst { ccclass, property } = cc._decorator;\nlet ctrl: MsgBoxCtrl;\n//模型，数据处理\nclass Model extends BaseModel {\n\tpublic title: string;\n\tpublic content: string;\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tpublic setWords(title: string, content: string): void {\n\t\tthis.title = title || \"温馨提示\";\n\t\tthis.content = content;\n\t}\n}\n//视图, 界面显示或动画，在这里完成\nclass View extends BaseView {\n\tprotected model: Model;\n\tprotected node: cc.Node;\n\tpublic ui = {\n\t\t//在这里声明ui\n\t\ttitleLbl: ctrl.titleLbl,\n\t\tcontentLbl: ctrl.contentLbl,\n\t\tcancelBtn: ctrl.cancelBtn,\n\t\tconfirmBtn: ctrl.confirmBtn\n\t}\n\tconstructor(model) {\n\t\tsuper(model);\n\t\tthis.node = ctrl.node;\n\t\tthis.initUi();\n\t}\n\t//初始化ui\n\tpublic initUi(): void {\n\t\tthis.addGrayLayer();\n\t}\n\n\tpublic refresh() {\n\t\tthis.ui.titleLbl.string = this.model.title;\n\t\tthis.ui.contentLbl.string = this.model.content;\n\t\tthis.ui.cancelBtn.active = !ctrl.isSingle;\n\t}\n}\n//c, 控制\n@ccclass\nexport default class MsgBoxCtrl extends BaseCtrl {\n\tprotected view: View;\n\tprotected model: Model;\n\t//这边去声明ui组件\n\t@property(cc.Label)\n\ttitleLbl: cc.Label = null;\n\t@property(cc.Label)\n\tcontentLbl: cc.Label = null;\n\t@property(cc.Node)\n\tcancelBtn: cc.Node = null;\n\t@property(cc.Node)\n\tconfirmBtn: cc.Node = null;\n\t// 声明ui组件end\n\t// 这是ui组件的map,将ui和控制器或试图普通变量分离\n\tpublic isSingle: boolean = true;\n\tprivate _okcb: Function = null;\n\tprivate _cancelcb: Function = null;\n\n\tprotected onLoad(): void {\n\t\t// 控制器\n\t\tctrl = this;\n\t\t// 创建mvc模式中模型和视图\n\t\tthis.initMvc(Model, View);\n\t}\n\n\tpublic init(title: string, content: string, okcb: Function, cancelcb: Function, isSingle: boolean = true): void {\n\t\tthis.model.setWords(title, content);\n\t\tthis._okcb = okcb || (() => { });\n\t\tthis._cancelcb = cancelcb || (() => {});\n\t\tthis.isSingle = isSingle;\n\t\tthis.view.refresh();\n\t}\n\n\t//绑定操作的回调\n\tprotected connectUi(): void {\n\t\tthis.connect(\"click\", this.ui.cancelBtn, this._cancelCB, \"点击消息框取消按钮\");\n\t\tthis.connect(\"click\", this.ui.confirmBtn, this._confirmCB, \"点击消息框确定按钮\");\n\t}\n\t//网络事件回调begin\n\t//end\n\t//全局事件回调begin\n\t//end\n\t//按钮或任何控件操作的回调begin\n\tprivate _cancelCB(): void {\n\t\tthis._cancelcb();\n\t\tthis.remove();\n\t}\n\n\tprivate _confirmCB(): void {\n\t\tthis._okcb();\n\t\tthis.remove();\n\t}\n\t//end\n\n\t// update(dt) {}\n\n\tprotected onDestroy(): void {\n\t\tsuper.onDestroy();\n\t}\n}"]}