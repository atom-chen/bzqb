{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\modules\\public\\script/assets\\modules\\public\\script\\tipBox.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\modules\\public\\script","sourcesContent":["import BaseModel from \"../../../framework/baseClass/BaseModel\";\r\nimport BaseView from \"../../../framework/baseClass/BaseView\";\r\nimport BaseCtrl from \"../../../framework/baseClass/BaseCtrl\";\r\n\r\n/*\r\nauthor: 张志强\r\n日期:2018-11-21 11:12:12\r\n*/\r\n\r\n//MVC模块,\r\nconst { ccclass, property } = cc._decorator;\r\nlet ctrl: TipBoxCtrl;\r\n//模型，数据处理\r\nclass Model extends BaseModel {\r\n\tpublic content: string;\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic setContent(s: string) {\r\n\t\tthis.content = s;\r\n\t}\r\n}\r\n//视图, 界面显示或动画，在这里完成\r\nclass View extends BaseView {\r\n\tprotected model: Model;\r\n\tprotected node: cc.Node;\r\n\tpublic ui = {\r\n\t\t//在这里声明ui\r\n\t\tcontent: ctrl.content\r\n\t}\r\n\tconstructor(model) {\r\n\t\tsuper(model);\r\n\t\tthis.node = ctrl.node;\r\n\t\tthis.initUi();\r\n\t}\r\n\t//初始化ui\r\n\tpublic initUi() {\r\n\r\n\t}\r\n\r\n\tpublic refresh() {\r\n\t\tthis.ui.content.string = this.model.content;\r\n\t\tlet delay = cc.delayTime(1.0);\r\n\t\tlet move = cc.moveBy(0.5, cc.v2(0, 200));\r\n\t\tlet fade = cc.fadeOut(0.5);\r\n\t\tlet CB = cc.callFunc(() => { this.node.destroy(); });\r\n\t\tthis.node.runAction(cc.sequence(delay, cc.spawn(move, fade), CB));\r\n\t}\r\n}\r\n//c, 控制\r\n@ccclass\r\nexport default class TipBoxCtrl extends BaseCtrl {\r\n\tprotected view: View;\r\n\tprotected model: Model;\r\n\t//这边去声明ui组件\r\n\t@property(cc.Label)\r\n\tcontent: cc.Label = null;\r\n\t//声明ui组件end\r\n\t//这是ui组件的map,将ui和控制器或试图普通变量分离\r\n\r\n\tonLoad() {\r\n\t\t// 控制器\r\n\t\tctrl = this;\r\n\t\t// 创建mvc模式中模型和视图\r\n\t\tthis.initMvc(Model, View);\r\n\t}\r\n\r\n\t//定义网络事件\r\n\tprotected defineNetEvents() {\r\n\t\tthis.n_events = {};\r\n\t}\r\n\t//定义全局事件\r\n\tprotected defineGlobalEvents() {\r\n\t\tthis.g_events = {};\r\n\t}\r\n\t//绑定操作的回调\r\n\tconnectUi() {\r\n\r\n\t}\r\n\t//网络事件回调begin\r\n\t//end\r\n\t//全局事件回调begin\r\n\t//end\r\n\t//按钮或任何控件操作的回调begin\r\n\t//end\r\n\r\n\tsetContent(content: string): void {\r\n\t\tthis.model.setContent(content);\r\n\t\tthis.view.refresh();\r\n\t}\r\n\r\n\t// update(dt) {}\r\n\r\n\tonDestroy() {\r\n\t\tsuper.onDestroy();\r\n\t}\r\n}"]}