{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\modules\\plaza\\script\\guilds/assets\\modules\\plaza\\script\\guilds\\guildsInfoPanel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\modules\\plaza\\script\\guilds","sourcesContent":["import BaseModel from \"../../../../framework/baseClass/BaseModel\";\r\nimport BaseView from \"../../../../framework/baseClass/BaseView\";\r\nimport BaseCtrl from \"../../../../framework/baseClass/BaseCtrl\";\r\nimport GuildsMgr from \"../../../../manager/public/guildsMgr\";\r\nimport UserMgr from \"../../../../manager/public/userMgr\";\r\nimport FriendsMgr from \"../../../../manager/public/friendsMgr\";\r\nimport GuildMembersMgr from \"../../../../manager/public/guildMembersMgr\";\r\nimport { dataids } from \"../../../../framework/net/dataids\";\r\nimport { enums } from \"../../../../manager/enums\";\r\nimport TableMgr from \"../../../../manager/public/tableMgr\";\r\n\r\n/*\r\nauthor: 汤凯\r\n日期:2018-11-19\r\n*/\r\n\r\n//MVC模块,\r\nconst { ccclass, property } = cc._decorator;\r\nlet ctrl: GuildsInfoPanelCtrl;\r\n//模型，数据处理\r\nclass Model extends BaseModel {\r\n\tplayerContentHeight = 360;\r\n\tmyInfo = UserMgr.getInstance().getMyInfo();\r\n\tmyGuildInfo = GuildsMgr.getInstance().getMyGuildInfo();\r\n\tguildInfo = GuildsMgr.getInstance().getGuildInfo();\r\n\tguildPlayerInfoList = GuildsMgr.getInstance().getGuildPlayersInfoList();\r\n\toperationPlayerInfo = null;\r\n\tplayerInfoLeap = 110;\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\tisGuildMember()\r\n\t{\r\n\t\treturn this.myInfo.guildId;\r\n\t}\r\n\tisFriend()\r\n\t{\r\n\t\tif(this.operationPlayerInfo) {\r\n\t\t\treturn FriendsMgr.getInstance().isFriend(this.operationPlayerInfo.id);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\tkickMember(value)\r\n\t{\r\n\t\tthis.guildPlayerInfoList.members.removeByValue(value);\r\n\t}\r\n}\r\n//视图, 界面显示或动画，在这里完成\r\nclass View extends BaseView {\r\n\tprotected model: Model;\r\n\tprotected node: cc.Node;\r\n\tpublic ui={\r\n\t\tbtn_joinGuild: ctrl.btn_joinGuild,\r\n\t\tbtn_leaveGuild: ctrl.btn_leaveGuild,\r\n\t\tbtn_donate: ctrl.btn_donate,\r\n\t\tpref_playerInfo: ctrl.pref_playerInfo,\r\n\t\tnode_playerInfoList: ctrl.node_playerInfoList,\r\n\t\tspr_guildIcon: ctrl.spr_guildIcon,\r\n\t\tlbl_guildLevel: ctrl.lbl_guildLevel,\r\n\t\tlbl_guildLevelValue: ctrl.lbl_guildLevelValue,\r\n\t\tlbl_guildName: ctrl.lbl_guildName,\r\n\t\tlbl_guildEnterTypeValue: ctrl.lbl_guildEnterTypeValue,\r\n\t\tlbl_guildContributionPointsValue: ctrl.lbl_guildContributionPointsValue,\r\n\t\tlbl_guildIDValue: ctrl.lbl_guildIDValue,\r\n\t\tlbl_guildMembersValue: ctrl.lbl_guildMembersValue,\r\n\t\tlbl_guildNeededStageValue: ctrl.lbl_guildNeededStageValue,\r\n\t\tlbl_guildAnnouncementValue: ctrl.lbl_guildAnnouncementValue,\r\n\t\tnode_guildPlayerOperations: ctrl.node_guildPlayerOperations,\r\n\t\tlbl_operatorName: ctrl.lbl_operatorName,\r\n\t\tbtn_playerInfo: ctrl.btn_playerInfo,\r\n\t\tbtn_demote: ctrl.btn_demote,\r\n\t\tbtn_promote: ctrl.btn_promote,\r\n\t\tbtn_addFriend: ctrl.btn_addFriend,\r\n\t\tbtn_transferGuild: ctrl.btn_transferGuild,\r\n\t\tbtn_kick: ctrl.btn_kick,\r\n\t\tbtn_clippingNode: ctrl.btn_clippingNode,\r\n\t\tbtn_guildSetting: ctrl.btn_guildSetting,\r\n\t\tpref_guildSetting: ctrl.pref_guildSetting,\r\n\t\tscroll_bar: ctrl.scroll_bar,\r\n\t}\r\n\tconstructor(model){\r\n\t\tsuper(model);\r\n\t\tthis.node = ctrl.node;\r\n\t\tthis.initUi();\r\n\t}\r\n\t//初始化ui\r\n\tpublic initUi() {\r\n\t\tthis.refreshGuildInfo();\r\n\t\tthis.refreshPlayerInfoList();\r\n\t}\r\n\tpublic showMemberBtns()\r\n\t{\r\n\t\tif(this.model.isGuildMember()==0) {\r\n\t\t\tthis.ui.btn_joinGuild.node.active=true;\r\n\t\t\tthis.ui.btn_leaveGuild.node.active=false;\r\n\t\t\tthis.ui.btn_donate.node.active=false;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.ui.btn_joinGuild.node.active=false;\r\n\t\t\tthis.ui.btn_leaveGuild.node.active=true;\r\n\t\t\tthis.ui.btn_donate.node.active=true;\r\n\t\t\tif(this.model.myGuildInfo&&this.model.myGuildInfo.position>=enums.Guild_President) {\r\n\t\t\t\tthis.ui.btn_guildSetting.node.active=true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tpublic refreshPlayerInfoList()\r\n\t{\r\n\t\tif(this.model.guildPlayerInfoList&&this.model.guildPlayerInfoList.members.length>0&&this.node.active) {\r\n\t\t\tthis.ui.node_playerInfoList.destroyAllChildren();\r\n\t\t\tthis.ui.node_playerInfoList.setContentSize(this.ui.node_playerInfoList.getContentSize().width,(this.model.guildPlayerInfoList.page+1)*this.model.playerContentHeight);\r\n\t\t\tfor (let guildIdx = 0; guildIdx < this.model.guildPlayerInfoList.members.length; guildIdx++) {\r\n\t\t\t\tlet guildPlayerInfoData = this.model.guildPlayerInfoList.members[guildIdx];\r\n\t\t\t\tlet playerInfo = cc.instantiate(this.ui.pref_playerInfo);\r\n\t\t\t\tthis.ui.node_playerInfoList.addChild(playerInfo);\r\n\t\t\t\tplayerInfo.getComponent('guildPlayerInfo').updateAndShowGuildPlayerInfo(guildPlayerInfoData);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tupdateEnterType()\r\n\t{\r\n\r\n\t\tswitch(this.model.guildInfo.enterType)\r\n\t\t{\r\n\t\t\tcase enums.GuildJoinType_CannotJoin:\r\n\t\t\t\tthis.ui.lbl_guildEnterTypeValue.string = '不可加入';\r\n\t\t\tbreak;\r\n\t\t\tcase enums.GuildJoinType_NeedApproval:\r\n\t\t\t\tthis.ui.lbl_guildEnterTypeValue.string = '需要批准';\r\n\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthis.ui.lbl_guildEnterTypeValue.string = '允许任何人';\r\n\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\tpublic refreshGuildInfo()\r\n\t{\r\n\t\tthis.showMemberBtns();\r\n\t\tif(this.model.guildInfo) {\r\n\t\t\tthis.ui.lbl_guildAnnouncementValue.string = this.model.guildInfo.announcement;\r\n\t\t\t// this.ui.spr_guildIcon = this.model.guildInfo.badgeId;\r\n\t\t\tthis.ui.lbl_guildLevel.string = 'LV.'+this.model.guildInfo.lv;\r\n\t\t\tthis.ui.lbl_guildLevelValue.string = this.model.guildInfo.exp;\r\n\t\t\tthis.ui.lbl_guildName.string = this.model.guildInfo.name;\r\n        \tlet card =TableMgr.getInstance().search('duanwei_duanwei',{stage:this.model.guildInfo.neededStage});\r\n        \tthis.updateEnterType();\r\n\t\t\tthis.ui.lbl_guildContributionPointsValue.string = this.model.guildInfo.donate;\r\n\t\t\tthis.ui.lbl_guildIDValue.string = this.model.guildInfo.id;\r\n\t\t\tthis.ui.lbl_guildMembersValue.string = this.model.guildInfo.memberAmount;\r\n\t\t\tthis.ui.lbl_guildNeededStageValue.string = card.name;\r\n\t\t}\r\n\t}\r\n\tpublic showGuildPlayerOperations()\r\n\t{\r\n\t\tthis.ui.node_guildPlayerOperations.active = true;\r\n\t\tthis.ui.lbl_operatorName.string = this.model.operationPlayerInfo.nickname;\r\n\t\tif(this.model.isGuildMember()==0) {\r\n\t\t\tthis.showNotGuildMemberBtns();\r\n\t\t}\r\n\t\telse if(this.model.operationPlayerInfo.id == this.model.myInfo.userUID) {\r\n\t\t\tthis.showSelfBtns();\r\n\t\t}\r\n\t\telse if(this.model.myGuildInfo){\r\n\t\t\tswitch(this.model.myGuildInfo.position)\r\n\t\t\t{\r\n\t\t\t\tcase enums.Guild_Member:\r\n\t\t\t\tthis.showGuildMemberBtns();\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase enums.Guild_President:\r\n\t\t\t\tthis.showGuildPresidentBtns();\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase enums.Guild_VicePresident:\r\n\t\t\t\tthis.showGuildVicePresidentBtns();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tpublic hideGuildPlayerOperations()\r\n\t{\r\n\t\tthis.ui.node_guildPlayerOperations.active = false;\r\n\t}\r\n\tshowNotGuildMemberBtns()\r\n\t{\r\n\t\tthis.ui.btn_playerInfo.node.active = true;\r\n\t\tthis.ui.btn_demote.node.active = false;\r\n\t\tthis.ui.btn_promote.node.active = false;\r\n\t\tthis.ui.btn_addFriend.node.active = !this.model.isFriend();\r\n\t\tthis.ui.btn_transferGuild.node.active = false;\r\n\t\tthis.ui.btn_kick.node.active = false;\r\n\t}\r\n\tshowSelfBtns()\r\n\t{\r\n\t\tthis.ui.btn_playerInfo.node.active = true;\r\n\t\tthis.ui.btn_demote.node.active = false;\r\n\t\tthis.ui.btn_promote.node.active = false;\r\n\t\tthis.ui.btn_addFriend.node.active = false;\r\n\t\tthis.ui.btn_transferGuild.node.active = false;\r\n\t\tthis.ui.btn_kick.node.active = false;\r\n\t}\r\n\tshowGuildMemberBtns()\r\n\t{\r\n\t\tthis.ui.btn_playerInfo.node.active = true;\r\n\t\tthis.ui.btn_demote.node.active = false;\r\n\t\tthis.ui.btn_promote.node.active = false;\r\n\t\tthis.ui.btn_addFriend.node.active = !this.model.isFriend();\r\n\t\tthis.ui.btn_transferGuild.node.active = false;\r\n\t\tthis.ui.btn_kick.node.active = false;\r\n\t}\r\n\tshowGuildPresidentBtns()\r\n\t{\r\n\t\tthis.ui.btn_playerInfo.node.active = true;\r\n\t\tthis.ui.btn_demote.node.active = true;\r\n\t\tthis.ui.btn_promote.node.active = true;\r\n\t\tthis.ui.btn_addFriend.node.active = !this.model.isFriend();\r\n\t\tthis.ui.btn_transferGuild.node.active = true;\r\n\t\tthis.ui.btn_kick.node.active = true;\r\n\t}\r\n\tshowGuildVicePresidentBtns()\r\n\t{\r\n\t\tthis.ui.btn_playerInfo.node.active = true;\r\n\t\tthis.ui.btn_demote.node.active = true;\r\n\t\tthis.ui.btn_promote.node.active = false;\r\n\t\tthis.ui.btn_addFriend.node.active = !this.model.isFriend();\r\n\t\tthis.ui.btn_transferGuild.node.active = false;\r\n\t\tthis.ui.btn_kick.node.active = true;\r\n\t}\r\n\taddGuildSetting()\r\n\t{\r\n\t\tlet guildSetting = this.node.getChildByName('guildSetting');\r\n\t\tif(guildSetting) {\r\n\t\t\tguildSetting.destroy();\r\n\t\t}\r\n\t\tlet guildSetting = cc.instantiate(this.ui.pref_guildSetting);\r\n\t\tthis.node.addChild(guildSetting);\r\n\t}\r\n}\r\n//c, 控制\r\n@ccclass\r\nexport default class GuildsInfoPanelCtrl extends BaseCtrl {\r\n\tprotected view: View;\r\n\tprotected model: Model;\r\n\t//这边去声明ui组件\r\n\t@property(cc.Button)\r\n\tbtn_joinGuild: cc.Button = null;\r\n\t@property(cc.Button)\r\n\tbtn_leaveGuild: cc.Button = null;\r\n\t@property(cc.Button)\r\n\tbtn_donate: cc.Button = null;\r\n\t@property(cc.Prefab)\r\n\tpref_playerInfo: cc.Prefab = null;\r\n\t@property(cc.Node)\r\n\tnode_playerInfoList: cc.Node = null;\r\n\t@property(cc.Sprite)\r\n\tspr_guildIcon: cc.Sprite = null;\r\n\t@property(cc.Label)\r\n\tlbl_guildLevel: cc.Label = null;\r\n\t@property(cc.Label)\r\n\tlbl_guildLevelValue: cc.Label = null;\r\n\t@property(cc.Label)\r\n\tlbl_guildName: cc.Label = null;\r\n\t@property(cc.Label)\r\n\tlbl_guildEnterTypeValue: cc.Label = null;\r\n\t@property(cc.Label)\r\n\tlbl_guildContributionPointsValue: cc.Label = null;\r\n\t@property(cc.Label)\r\n\tlbl_guildIDValue: cc.Label = null;\r\n\t@property(cc.Label)\r\n\tlbl_guildMembersValue: cc.Label = null;\r\n\t@property(cc.Label)\r\n\tlbl_guildNeededStageValue: cc.Label = null;\r\n\t@property(cc.Label)\r\n\tlbl_guildAnnouncementValue: cc.Label = null;\r\n\t@property(cc.Node)\r\n\tnode_guildPlayerOperations: cc.Label = null;\r\n\t@property(cc.Label)\r\n\tlbl_operatorName: cc.Label = null;\r\n\t@property(cc.Button)\r\n\tbtn_playerInfo: cc.Button = null;\r\n\t@property(cc.Button)\r\n\tbtn_demote: cc.Button = null;\r\n\t@property(cc.Button)\r\n\tbtn_promote: cc.Button = null;\r\n\t@property(cc.Button)\r\n\tbtn_addFriend: cc.Button = null;\r\n\t@property(cc.Button)\r\n\tbtn_transferGuild: cc.Button = null;\r\n\t@property(cc.Button)\r\n\tbtn_kick: cc.Button = null;\r\n\t@property(cc.Button)\r\n\tbtn_clippingNode: cc.Button = null;\r\n\t@property(cc.Button)\r\n\tbtn_guildSetting: cc.Button = null;\r\n\t@property(cc.Prefab)\r\n\tpref_guildSetting: cc.Prefab = null;\r\n\t@property(cc.ScrollView)\r\n\tscroll_bar: cc.ScrollView = null;\r\n\t//声明ui组件end\r\n\t//这是ui组件的map,将ui和控制器或试图普通变量分离\r\n\r\n\r\n\tonLoad (){\r\n\t\t// 控制器\r\n\t\tctrl = this;\r\n\t\t// 创建mvc模式中模型和视图\r\n\t\tthis.initMvc(Model,View);\r\n\t}\r\n\r\n\t//定义网络事件\r\n\tprotected defineNetEvents() {\r\n\t \tthis.n_events = {\r\n            'search.entry.randomGuildList':this.search_entry_randomGuildList,\r\n            'guild.guild.updateAnnouncement':this.guild_guild_updateAnnouncement,\r\n            'search.entry.reqGuildMembers':this.search_entry_reqGuildMembers,\r\n            'guild.guild.reqMyGuildDetail':this.guild_guild_reqMyGuildDetail,\r\n            'plaza.guild.reqGuildDetail': this.plaza_guild_reqGuildDetail,\r\n            'plaza.guild.joinGuild':this.plaza_guild_joinGuild,\r\n            'guild.member.kickMember':this.guild_member_kickMember,\r\n            'guild.member.transPresident':this.guild_member_transPresident,\r\n            'guild.member.appointVicePresident':this.guild_member_appointVicePresident,\r\n            'guild.member.fireVicePresident':this.guild_member_fireVicePresident,\r\n            'plaza.friends.addFriend': this.plaza_friends_addFriend,\r\n        };\r\n\t}\r\n\t//定义全局事件\r\n\tprotected defineGlobalEvents() {\r\n\t\tthis.g_events = {'guild.playerOperation':this.guildPlayerOperation};\r\n\t}\r\n\t//绑定操作的回调\r\n\tconnectUi() {\r\n\t\t// this.connect(\"click\",this.ui.btn_close,()=>{\r\n\t\t// \tthis.closeModule(\"guilds\");\r\n\t\t// },\"关闭公会界面\");\r\n\t\tthis.connect(\"click\",this.ui.btn_joinGuild,this.btnJoinGuild.bind(this),\"加入公会\");\r\n\t\tthis.connect(\"click\",this.ui.btn_leaveGuild,this.btnLeaveGuild.bind(this),\"退出公会\");\r\n\t\tthis.connect(\"click\",this.ui.btn_donate,this.btnDonate.bind(this),\"捐献\");\r\n\t\tthis.connect(\"click\",this.ui.btn_playerInfo,this.btnPlayerInfo.bind(this),\"玩家信息\");\r\n\t\tthis.connect(\"click\",this.ui.btn_demote,this.btnDemote.bind(this),\"降职\");\r\n\t\tthis.connect(\"click\",this.ui.btn_promote,this.btnPromote.bind(this),\"升值\");\r\n\t\tthis.connect(\"click\",this.ui.btn_addFriend,this.btnAddFriend.bind(this),\"添加好友\");\r\n\t\tthis.connect(\"click\",this.ui.btn_transferGuild,this.btnTransferGuild.bind(this),\"转让公会\");\r\n\t\tthis.connect(\"click\",this.ui.btn_kick,this.btnKick.bind(this),\"踢出\");\r\n\t\tthis.connect(\"click\",this.ui.btn_clippingNode,this.btnClippingNode.bind(this),\"踢出\");\r\n\t\tthis.connect(\"click\",this.ui.btn_guildSetting,this.btnGuildSetting.bind(this),\"公会设置\");\r\n\t\tthis.connect(\"scroll-to-bottom\",this.ui.scroll_bar.node,this.scrollToBottom.bind(this),\"拉到末尾\");\r\n\r\n\t}\r\n\tscrollToBottom()\r\n\t{\r\n\t\tGuildsMgr.getInstance().reqGuildMembers(UserMgr.getInstance().getMyInfo().guildId,GuildsMgr.getInstance().membersPage+1);\r\n\t}\r\n\tsearch_entry_randomGuildList()\r\n\t{\r\n\t\t// this.model.guildList = GuildsMgr.getInstance().getRandomGuildList();\r\n\t\t// this.view.freshGuildList();\r\n\t}\r\n\tbtnGuildSetting()\r\n\t{\r\n\t\tthis.view.addGuildSetting();\r\n\t}\r\n\tbtnClippingNode()\r\n\t{\r\n\t\tthis.view.hideGuildPlayerOperations();\r\n\t}\r\n\tbtnLeaveGuild()\r\n\t{\r\n\t\tGuildMembersMgr.getInstance().quitGuild();\r\n\t}\r\n\tbtnDonate()\r\n\t{\r\n\r\n\t}\r\n\tbtnPlayerInfo()\r\n\t{\r\n\t\tif(this.model.operationPlayerInfo) {\r\n\t\t\t// guildMembersMgr.getInstance().\r\n\t\t}\r\n\t}\r\n\tbtnDemote()\r\n\t{\r\n\t\tif(this.model.operationPlayerInfo) {\r\n\t\t\tGuildMembersMgr.getInstance().fireVicePresident(this.model.operationPlayerInfo.id);\r\n\t\t}\r\n\t}\r\n\tbtnPromote()\r\n\t{\r\n\t\tif(this.model.operationPlayerInfo) {\r\n\t\t\tGuildMembersMgr.getInstance().appointVicePresident(this.model.operationPlayerInfo.id);\r\n\t\t}\r\n\t}\r\n\tbtnAddFriend()\r\n\t{\r\n\t\tif(this.model.operationPlayerInfo) {\r\n\t\t\tFriendsMgr.getInstance().addFriend(this.model.operationPlayerInfo.id);\r\n\t\t}\r\n\t}\r\n\tbtnTransferGuild()\r\n\t{\r\n\t\tif(this.model.operationPlayerInfo) {\r\n\t\t\tGuildMembersMgr.getInstance().transPresident(this.model.operationPlayerInfo.id);\r\n\t\t}\r\n\t}\r\n\tbtnKick()\r\n\t{\r\n\t\tif(this.model.operationPlayerInfo) {\r\n\t\t\tGuildMembersMgr.getInstance().kickMember(this.model.operationPlayerInfo.id);\r\n\t\t}\r\n\t}\r\n\tbtnJoinGuild()\r\n\t{\r\n\t\tconsole.log(\"btnJoinGuild\")\r\n\t\tif(this.model.guildInfo) {\r\n\t\t\tswitch(this.model.guildInfo.enterType)\r\n\t\t\t{\r\n\t\t\t\tcase enums.GuildJoinType_CannotJoin:\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase enums.GuildJoinType_NeedApproval:\r\n\t\t\t\t\tGuildsMgr.getInstance().applyJoinGuild(this.model.guildInfo.id);\r\n\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tGuildsMgr.getInstance().reqJoinGuild(this.model.guildInfo.id);\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\tplaza_friends_addFriend()\r\n\t{\r\n\t\tthis.view.hideGuildPlayerOperations();\r\n\t}\r\n\tguild_member_kickMember(msg:Package)\r\n\t{\r\n\t\tthis.view.hideGuildPlayerOperations();\r\n\t}\r\n\tguild_member_transPresident(msg: Package)\r\n\t{\r\n\t\tthis.view.hideGuildPlayerOperations();\r\n\t}\r\n\tguild_member_appointVicePresident(msg: Package)\r\n\t{\r\n\t\tthis.view.hideGuildPlayerOperations();\r\n\t}\r\n\tguild_member_fireVicePresident(msg: Package)\r\n\t{\r\n\t\tthis.view.hideGuildPlayerOperations();\r\n\t}\r\n\tguildPlayerOperation(data)\r\n\t{\r\n\t\tconsole.log(\"guildPlayerOperation\",data);\r\n\t\tthis.model.operationPlayerInfo = data;\r\n\t\tif(this.model.operationPlayerInfo) {\r\n\t\t\tthis.view.showGuildPlayerOperations();\r\n\t\t}\r\n\t}\r\n\tplaza_guild_joinGuild()\r\n\t{\r\n\t\tGuildsMgr.getInstance().reqMyGuildDetail();\r\n\t\tGuildsMgr.getInstance().reqGuildMembers(GuildsMgr.getInstance().getGuildId(),0);\r\n\t}\r\n\tguild_guild_updateAnnouncement()\r\n\t{\r\n\t\t\r\n\t}\r\n\tguild_guild_reqMyGuildDetail()\r\n\t{\r\n\t\tthis.model.myGuildInfo = GuildsMgr.getInstance().getMyGuildInfo();\r\n\t\tthis.model.guildInfo = GuildsMgr.getInstance().getGuildInfo();\r\n\t\tthis.view.refreshGuildInfo();\r\n\t}\r\n\tplaza_guild_reqGuildDetail()\r\n\t{\r\n\t\tthis.model.guildInfo = GuildsMgr.getInstance().getGuildInfo();\r\n\t\tthis.view.refreshGuildInfo();\r\n\t}\r\n\tsearch_entry_reqGuildMembers()\r\n\t{\r\n\t\tthis.model.guildPlayerInfoList = GuildsMgr.getInstance().getGuildPlayersInfoList();\r\n\t\tthis.view.refreshPlayerInfoList();\r\n\t}\r\n\t//网络事件回调begin\r\n\t//end\r\n\t//全局事件回调begin\r\n\t//end\r\n\t//按钮或任何控件操作的回调begin\r\n\t//end\r\n\r\n\t// update(dt) {}\r\n\r\n\tonDestroy() {\r\n\t\tsuper.onDestroy();\r\n\t}\r\n}"]}