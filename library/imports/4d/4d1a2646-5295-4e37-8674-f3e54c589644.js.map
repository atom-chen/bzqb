{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\modules\\plaza\\script/assets\\modules\\plaza\\script\\boxRewark.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\modules\\plaza\\script","sourcesContent":["import BaseModel from \"../../../framework/baseClass/BaseModel\";\nimport BaseCtrl from \"../../../framework/baseClass/BaseCtrl\";\nimport BaseView from \"../../../framework/baseClass/BaseView\";\nimport { signInRewark } from \"../../../manager/public/interface/iSignInfo\";\nimport { enums } from \"../../../manager/enums\";\n\n\n/*\nauthor: 陈斌杰\n日期:2018-11-21 17:58:37\n*/\n\n//MVC模块,\nconst { ccclass, property } = cc._decorator;\nlet ctrl: BoxRewarkCtrl;\n//模型，数据处理\nclass Model extends BaseModel {\n\tconstructor() {\n\t\tsuper();\n\t}\n\tpublic boxesRewarkData: signInRewark = <signInRewark>{};\n\n\t//设置累积宝箱奖励数据\n\tpublic setBoxesRewarkData(data: any): void {\n\t\tthis.boxesRewarkData = data;\n\t}\n}\n//视图, 界面显示或动画，在这里完成\nclass View extends BaseView {\n\tprotected model: Model;\n\tprotected node: cc.Node;\n\tpublic ui = {\n\t\tico: ctrl.ico,\n\t\tamount: ctrl.amount,\n\t}\n\tconstructor(model) {\n\t\tsuper(model);\n\t\tthis.node = ctrl.node;\n\t\tthis.initUi();\n\t}\n\t//初始化ui\n\tpublic initUi() {\n\t\tthis.ui.ico.spriteFrame = null;\n\t\tthis.ui.amount.string = \"\";\n\t}\n\n\t//初始化累积宝箱奖励UI\n\tpublic initBoxesRewarkUI(): void {\n\t\tlet boxesRewarkData = this.model.boxesRewarkData;\n\t\tlet icoName = null;\n\t\tswitch (boxesRewarkData.type) {\n\t\t\tcase enums.Get_Gold:\n\t\t\t\ticoName = \"gold\";\n\t\t\t\tbreak;\n\t\t\tcase enums.Get_Crystal:\n\t\t\t\ticoName = \"crystal\";\n\t\t\t\tbreak;\n\t\t\tcase enums.Get_Price:\n\t\t\t\ticoName = \"diamond\";\n\t\t\t\tbreak;\n\t\t\tcase enums.Get_Exp:\n\t\t\t\ticoName = \"exp\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\tif (icoName != null) {\n\t\t\tthis.loadImage(icoName, true).then((sprf) => {\n\t\t\t\tthis.ui.ico.spriteFrame = sprf;\n\t\t\t});\n\t\t}\n\t\tthis.ui.amount.string = boxesRewarkData.amount.toString();\n\t}\n}\n//c, 控制\n@ccclass\nexport default class BoxRewarkCtrl extends BaseCtrl {\n\tprotected view: View;\n\tprotected model: Model;\n\t//这边去声明ui组件\n\t@property(cc.Sprite)\n\tico: cc.Sprite = null;\n\t@property(cc.Label)\n\tamount: cc.Label = null;\n\t//声明ui组件end\n\t//这是ui组件的map,将ui和控制器或试图普通变量分离\n\n\n\tonLoad() {\n\t\t// 控制器\n\t\tctrl = this;\n\t\t// 创建mvc模式中模型和视图\n\t\tthis.initMvc(Model, View);\n\t}\n\n\t//定义网络事件\n\tprotected defineNetEvents() {\n\t\tthis.n_events = {};\n\t}\n\t//定义全局事件\n\tprotected defineGlobalEvents() {\n\t\tthis.g_events = {};\n\t}\n\t//绑定操作的回调\n\tconnectUi() {\n\n\t}\n\t//网络事件回调begin\n\t//end\n\t//全局事件回调begin\n\t//end\n\t//按钮或任何控件操作的回调begin\n\t//end\n\n\t//初始化累积宝箱奖励\n\tpublic initTotalRewark(data: any): void {\n\t\tthis.model.setBoxesRewarkData(data);\n\t\tthis.view.initBoxesRewarkUI();\n\t}\n\n\tonDestroy() {\n\t\tsuper.onDestroy();\n\t}\n}"]}