{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\modules\\plaza\\script\\friends/assets\\modules\\plaza\\script\\friends\\addFriend.ts"],"names":[],"mappings":";;;;;AAAA,uEAAkE;AAClE,qEAAgE;AAChE,qEAAgE;AAGhE,oEAA8D;AAE9D;;;EAGE;AAEF,QAAQ;AACF,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAAQ,CAAmB;AAC5C,IAAI,IAAiB,CAAC;AACtB,SAAS;AACT;IAAoB,yBAAS;IAG5B;QAAA,YACC,iBAAO,SACJ;QAJI,SAAG,GAAU,CAAC,CAAA;QActB,gEAAgE;QAEzD,gBAAU,GAAW,CAAC,CAAA;;IAZ1B,CAAC;IAEM,sBAAM,GAAb,UAAc,GAAG;QACb,IAAI,CAAC,GAAG,GAAG,GAAG,CAAA;IAClB,CAAC;IAEM,sBAAM,GAAb;QACI,OAAO,IAAI,CAAC,GAAG,CAAA;IACnB,CAAC;IAKL,YAAC;AAAD,CAlBA,AAkBC,CAlBmB,mBAAS,GAkB5B;AACD,mBAAmB;AACnB;IAAmB,wBAAQ;IAQ1B,cAAY,KAAK;QAAjB,YACC,kBAAM,KAAK,CAAC,SAGZ;QATM,QAAE,GAAC;YACH,aAAa,EAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC;YACjD,QAAQ,EAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC;YAClD,QAAQ,EAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC;SACzC,CAAA;QAGA,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACtB,KAAI,CAAC,MAAM,EAAE,CAAC;;IACf,CAAC;IACD,OAAO;IACA,qBAAM,GAAb;IAEG,CAAC;IAEM,yBAAU,GAAjB,UAAkB,QAAQ;QACtB,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC,QAAQ,CAAA;IACtE,CAAC;IAEL,WAAC;AAAD,CAtBA,AAsBC,CAtBkB,kBAAQ,GAsB1B;AACD,OAAO;AAEP;IAAyC,+BAAQ;IAAjD;;IAoDA,CAAC;IAjDA,WAAW;IAEX,WAAW;IACX,6BAA6B;IAE7B,4BAAM,GAAN;QACC,MAAM;QACN,IAAI,GAAG,IAAI,CAAC;QACZ,gBAAgB;QAChB,IAAI,CAAC,OAAO,CAAC,KAAK,EAAC,IAAI,CAAC,CAAC;IAC1B,CAAC;IAED,QAAQ;IACE,qCAAe,GAAzB;QACE,IAAI,CAAC,QAAQ,GAAG,EAEf,CAAC;IACJ,CAAC;IACD,QAAQ;IACE,wCAAkB,GAA5B;QACC,IAAI,CAAC,QAAQ,GAAG,EAEf,CAAC;IACH,CAAC;IACD,SAAS;IACT,+BAAS,GAAT;QAAA,iBAII;QAHH,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE;YACnC,oBAAU,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,KAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAA;QAC3D,CAAC,EAAE,4BAAQ,CAAC,CAAA;IAChB,CAAC;IAEM,8BAAQ,GAAf,UAAgB,QAAQ;QACpB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAA;QAC9B,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAA;IAClC,CAAC;IAGJ,aAAa;IACb,KAAK;IACL,aAAa;IACb,KAAK;IACL,mBAAmB;IACnB,KAAK;IAEL,gBAAgB;IAEhB,+BAAS,GAAT;QACC,iBAAM,SAAS,WAAE,CAAC;IACnB,CAAC;IAnDmB,WAAW;QAD/B,OAAO;OACa,WAAW,CAoD/B;IAAD,kBAAC;CApDD,AAoDC,CApDwC,kBAAQ,GAoDhD;kBApDoB,WAAW","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\modules\\plaza\\script\\friends","sourcesContent":["import BaseModel from \"../../../../framework/baseClass/BaseModel\";\nimport BaseView from \"../../../../framework/baseClass/BaseView\";\nimport BaseCtrl from \"../../../../framework/baseClass/BaseCtrl\";\n\nimport {friendShow, addFriend, friend, chat} from \"../../../../manager/public/interface/iFriend\"\nimport FriendsMgr from \"../../../../manager/public/friendsMgr\"\n\n/*\nauthor: 蔡世达\n日期:2018-11-22 10:36:08\n*/\n\n//MVC模块,\nconst { ccclass, property } = cc._decorator;\nlet ctrl: FriendsCtrl;\n//模型，数据处理\nclass Model extends BaseModel {\n\tprivate uid:number = 0\n\n\tconstructor() {\n\t\tsuper();\n    }\n    \n    public setUId(uid){\n        this.uid = uid\n    }\n\n    public getUId():any{\n        return this.uid\n    }\n\n\t//public chatsData: chatList = FriendsMgr.getInstance().chatList\n\n\tpublic curChatUid: number = 0\n}\n//视图, 界面显示或动画，在这里完成\nclass View extends BaseView {\n\tprotected model: Model;\n\tprotected node: cc.Node;\n\tpublic ui={\n        btn_addFriend:ctrl.node.getChildByName(\"btn_add\"),                              //添加按钮\n        btn_info:ctrl.node.getChildByName(\"btn_xxx\"),                                   //信息按钮\n\t\tlbl_name:ctrl.node.getChildByName(\"name\"),                                      //玩家名字\n\t}\n\tconstructor(model){\n\t\tsuper(model);\n\t\tthis.node = ctrl.node;\n\t\tthis.initUi();\n\t}\n\t//初始化ui\n\tpublic initUi() {\n\t\t\n    }\n\n    public updateData(userInfo): void {\n        this.ui.lbl_name.getComponent(cc.Label).string = userInfo.nickname\n    }\n    \n}\n//c, 控制\n@ccclass\nexport default class FriendsCtrl extends BaseCtrl {\n\tprotected view: View;\n\tprotected model: Model;\n\t//这边去声明ui组件\n\n\t//声明ui组件end\n\t//这是ui组件的map,将ui和控制器或试图普通变量分离\n\n\tonLoad (){\n\t\t// 控制器\n\t\tctrl = this;\n\t\t// 创建mvc模式中模型和视图\n\t\tthis.initMvc(Model,View);\n\t}\n\n\t//定义网络事件\n\tprotected defineNetEvents() {\n\t \tthis.n_events = {\n\n\t\t };\n\t}\n\t//定义全局事件\n\tprotected defineGlobalEvents() {\n\t\tthis.g_events = {\n\t\t\t\n\t\t};\n\t}\n\t//绑定操作的回调\n\tconnectUi() {\n\t\tthis.connect(\"click\", this.ui.btn_addFriend, ()=>{\n            FriendsMgr.getInstance().addFriend(this.model.getUId())\n        }, `添加用户ID`)\n    }\n    \n    public initData(userInfo){\n        this.model.setUId(userInfo.id)\n        this.view.updateData(userInfo)\n    }\n\n\n\t//网络事件回调begin\n\t//end\n\t//全局事件回调begin\n\t//end\n\t//按钮或任何控件操作的回调begin\n\t//end\n\n\t// update(dt) {}\n\n\tonDestroy() {\n\t\tsuper.onDestroy();\n\t}\n}"]}