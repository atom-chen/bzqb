{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\manager\\public/assets\\manager\\public\\effectMgr.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\manager\\public","sourcesContent":["import BaseMgr from \"../../framework/baseClass/BaseMgr\";\nimport { effectList, effectCfgList, effect, effectCfg } from \"./interface/iEffect\";\nimport GameNet from \"../../framework/modules/GameNet\";\nimport Package from \"../../framework/net/package\";\nimport { dataids } from \"../../framework/net/dataids\";\nimport UserMgr from \"./userMgr\";\nimport { enums } from \"../enums\";\n\n/*\nauthor: 陈斌杰\n日期:2018-11-07 21:02:39\n*/\n\nexport default class EffectMgr extends BaseMgr {\n\tpublic isInit: boolean = false;\n\tpublic levelCfgTab: any = null;\t\t\t\t\t\t\t\t//等级配置表\n\tpublic effectCfgTab: any = null;\t\t\t\t\t\t\t//特技配置表\n\tpublic effectCfgUpTab: any = null;\t\t\t\t\t\t\t//特技升级配置表\n\tpublic ballCfgUpTab: any = null;\t\t\t\t\t\t\t//炮弹配置表\n\tpublic buffCfgUpTab: any = null;\t\t\t\t\t\t\t//buff配置表\n\tpublic effectList: effectList = <effectList>{};\t\t\t\t//特技数据\n\tpublic effectCfgList: effectCfgList = <effectCfgList>{};\t//特技栏数据\n\tpublic effectNum: number = 0;\t\t\t\t\t\t\t\t//当前装备特技的数量\n\tpublic allEffectNum: number = 2;\t\t\t\t\t\t\t//当前可以装备特技的总数量\n\tpublic interimCfg: number[] = [];\t\t\t\t\t\t\t//临时特技配置id数组\n\tpublic effectUnlockNum: number = 0;\t\t\t\t\t\t\t//解锁的特技数量\n\tconstructor() {\n\t\tsuper();\n\t\tthis.routes = {\n\t\t\t\"plaza.teji.reqTejiInfo\": this.reqTejiInfo,\n\t\t\t\"plaza.teji.tejiLvUp\": this.tejiLvUp,\n\t\t\t\"plaza.teji.equipTeji\": this.equipTeji,\n\t\t};\n\t}\n\n\t// 单例处理\n\tprivate static _instance: EffectMgr = null;\n\tpublic static getInstance(): EffectMgr {\n\t\tif (EffectMgr._instance == null) {\n\t\t\tEffectMgr._instance = new EffectMgr();\n\t\t}\n\t\treturn EffectMgr._instance;\n\t}\n\n\t//向服务器发送特技请求\n\tpublic sendReqEffectData(): void {\n\t\tthis.send_msg(\"plaza.teji.reqTejiInfo\");\n\t}\n\n\t//获取服务器发送的特技数据\n\tpublic reqTejiInfo(msg: Package): void {\n\t\tthis.isInit = true;\n\t\tlet data = msg.getDataByType(dataids.ID_TEJI_INFO);\n\t\tthis.getEffectCfgTab();\n\t\tthis.initEffectData();\n\t\tthis.setEffectData(data);\n\t\tthis.initEffectCfgList(data);\n\t}\n\n\t//向服务器发送升级特技请求\n\tpublic sendReqUpEffect(autoId: number): void {\n\t\tlet msg = {\n\t\t\tautoId: autoId,\n\t\t}\n\t\tthis.send_msg(\"plaza.teji.tejiLvUp\", msg);\n\t}\n\n\t//获取服务器发送的特技升级数据\n\tpublic tejiLvUp(msg: Package): void {\n\t\tlet effectInfo = msg.getDataByType(dataids.ID_TEJI_LEVELUP);\n\t\tthis.upEffectData(effectInfo);\n\t\tthis.gemit(\"upEffect\");\n\t}\n\n\t//向服务器发送保存的配置数据\n\tpublic sendReqEffectCfgData(data: any): void {\n\t\tlet msg = {\n\t\t\tlistEquip: data,\n\t\t}\n\t\tthis.send_msg(\"plaza.teji.equipTeji\", msg);\n\t}\n\n\t//获取服务器发送的特技配置数据\n\tpublic equipTeji(msg: Package): void {\n\t\tlet effectInfo = msg.getDataByType(dataids.ID_TEJI_EQUIP);\n\t\tthis.seteffectCfgListData(effectInfo);\n\t\tthis.gemit(\"effectCfg\");\n\t}\n\n\t//获取特技所需配置表\n\tpublic getEffectCfgTab(): void {\n\t\tthis.levelCfgTab = this.getConfigSync(\"level_dengji\").json;\n\t\tthis.effectCfgTab = this.getConfigSync(\"teji_teji\").json;\n\t\tthis.effectCfgUpTab = this.getConfigSync(\"tejiup_tejiup\").json;\n\t\tthis.ballCfgUpTab = this.getConfigSync(\"ball_ball\").json;\n\t\tthis.buffCfgUpTab = this.getConfigSync(\"buff_buff\").json;\n\t}\n\n\t//初始化特技数据\n\tpublic initEffectData(): void {\n\t\tthis.effectList.list = [];\n\t\tfor (let i = 0; i < this.effectCfgTab.length; i++) {\n\t\t\tlet effectData = this.effectCfgTab[i];\t\t\t\t\t\t//默认使用初始特技数据\n\t\t\tlet effectUpData = this.effectCfgUpTab[0];\t\t\t\t\t//默认初始为最低等级升级数据\n\t\t\tlet effect: effect = <effect>{};\n\t\t\teffect.name = effectData.name;\n\t\t\teffect.type = effectData.type;\n\t\t\teffect.explain = effectData.des;\n\t\t\teffect.id = null;\n\t\t\teffect.itemId = effectData.id;\n\t\t\teffect.lv = effectUpData.level;\n\t\t\teffect.star = effectData.star;\n\t\t\teffect.damage = 0;\n\t\t\tif (effectData.ball_id) {\n\t\t\t\teffect.damage = this.getEffectDamage(effectData.ball_id, this.ballCfgUpTab);\n\t\t\t} else if (effectData.buff_id) {\n\t\t\t\teffect.damage = this.getEffectDamage(effectData.buff_id, this.buffCfgUpTab);\n\t\t\t}\n\t\t\teffect.energy = effectData.energy;\n\t\t\teffect.effectOther = {\n\t\t\t\teffectChipNum: 0,\t\t\t\t\t//默认初始为0\n\t\t\t\tupEffectChipNmu: effectUpData.card,\n\t\t\t\tisUnlock: false,\t\t\t\t\t//默认未解锁\n\t\t\t\tisConfig: false,\t\t\t\t\t//默认为装备\n\t\t\t\tnextLvDamage: null,\n\t\t\t\tgetExp: effectUpData.exp[0].exp,\n\t\t\t\tspendGold: effectUpData.gold[0].gold,\n\t\t\t};\n\t\t\tthis.effectList.list.push(effect);\n\t\t}\n\t}\n\n\t//设置特技初始数据\n\tpublic setEffectData(data: any): void {\n\t\tif (data.length == 0) {\n\t\t\treturn;\n\t\t}\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tfor (let j = 0; j < this.effectList.list.length; j++) {\n\t\t\t\tlet effect: any = this.effectList.list[j];\n\t\t\t\tif (data[i].itemId == effect.itemId) {\n\t\t\t\t\teffect.effectOther.isUnlock = true;\n\t\t\t\t\tthis.effectUnlockNum++;\n\t\t\t\t\teffect.effectOther.effectChipNum = data[i].amount;\n\t\t\t\t\tif (data[i].bEquiped == 0) {\n\t\t\t\t\t\teffect.effectOther.isConfig = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\teffect.effectOther.isConfig = true;\n\t\t\t\t\t}\n\t\t\t\t\teffect.id = data[i].id;\n\t\t\t\t\teffect.lv = data[i].maxLevel;\n\n\t\t\t\t\t//解锁的特接排前面\n\t\t\t\t\tvar str = this.effectList.list.splice(j, 1);\n\t\t\t\t\tthis.effectList.list.unshift(str[0]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//设置特技伤害数据\n\tpublic getEffectDamage(id: number, configTab: any): number {\n\t\tlet damage: number = 0;\n\t\tfor (let i = 0; i < configTab.length; i++) {\n\t\t\tif (id == configTab[i].ball_id || id == configTab[i].buff_id) {\n\t\t\t\tif (configTab[i].damage) {\n\t\t\t\t\tdamage = configTab[i].damage[0].dmg;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn damage;\n\t}\n\n\t//初始化特技配置列表\n\tpublic initEffectCfgList(data: any): void {\n\t\tfor (let i = 0; i < this.levelCfgTab.length; i++) {\n\t\t\tlet lv = UserMgr.getInstance().user.grade;\n\t\t\tif (lv == this.levelCfgTab[i].level) {\n\t\t\t\tthis.allEffectNum = this.levelCfgTab[i].maxTejiEquipNum;\t//初始化特技可装备的数量\n\t\t\t}\n\t\t}\n\n\t\tif (this.effectCfgList.list) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.effectCfgList.list = [];\t\t\t\t\t\t\t\t\t\t//初始特技配置栏\n\t\tfor (let i = 0; i < this.allEffectNum; i++) {\n\t\t\tlet effectCfg: effectCfg = <effectCfg>{};\n\t\t\teffectCfg.effectId = 0;\n\t\t\teffectCfg.isConfig = false;\n\t\t\tthis.effectCfgList.list.push(effectCfg);\n\t\t}\n\t\tif (data.length == 0) {\n\t\t\treturn;\n\t\t}\n\t\t// for (let i = 0; i < data.length;) {\n\t\t// \tif (data[i].bEquiped == 0) {\n\t\t// \t\tdata.splice(i, 1);\n\t\t// \t} else {\n\t\t// \t\ti++;\n\t\t// \t}\n\t\t// }\n\t\tfor (let i = 0; i < this.effectCfgList.list.length; i++) {\t\t\t//设置特技配置栏数据\n\t\t\tif (!data[i]) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (data[i].bEquiped == 1) {\n\t\t\t\tthis.effectCfgList.list[i].isConfig = true;\n\t\t\t\tthis.effectCfgList.list[i].effectId = data[i].itemId;\n\t\t\t}\n\t\t}\n\t}\n\n\t//根据特技Id特技数据\n\tpublic getEffectDataById(id: number): effect {\n\t\tif (id == 0) { return }\n\t\tfor (let i = 0; i < this.effectList.list.length; i++) {\n\t\t\tlet data = this.effectList.list[i];\n\t\t\tif (id == data.itemId) {\n\t\t\t\treturn data;\n\t\t\t}\n\t\t}\n\t}\n\n\t//设置当前装备的特技数量\n\tpublic setEffectNum(num: number): void {\n\t\tthis.effectNum = num;\n\t}\n\n\t//特技数据排序  星级\tsort: -1 小到大、1 大到小\n\tpublic sortEffectData(sort: number): void {\n\t\tvar str = this.effectList.list.splice(this.effectUnlockNum, this.effectList.list.length - this.effectUnlockNum);\n\t\tthis.effectList.list.sort((a, b) => {\n\t\t\tif (a.star < b.star) {\n\t\t\t\treturn sort;\n\t\t\t} else if (a.star > b.star) {\n\t\t\t\treturn -sort;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t});\n\t\tfor (let i = 0; i < str.length; i++) {\n\t\t\tthis.effectList.list.push(str[i]);\n\t\t}\n\t}\n\n\t//升级特技数据操作\n\tpublic upEffectData(data: any): void {\n\t\tfor (let i = 0; i < this.effectList.list.length; i++) {\n\t\t\tlet effectData = this.effectList.list[i];\n\t\t\tif (effectData.id == data.autoId) {\n\t\t\t\teffectData.lv = data.tejiLv;\t\t\t\t\t\t\t\t\t//设置特技等级\n\t\t\t\teffectData.effectOther.effectChipNum = data.tejiNum;\t\t\t//设置特技持有碎片数量\n\t\t\t\teffectData.damage = this.setEffectDamage(effectData.itemId, effectData.lv);\t\t\t//设置特技伤害\n\t\t\t\tthis.setEffectUpCfg(effectData, data);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic setEffectUpCfg(effectData: any, data: any): void {\n\t\tfor (let i = 0; i < this.effectCfgUpTab.length; i++) {\n\t\t\tlet config = this.effectCfgUpTab[i];\n\t\t\tif (data.tejiLv == config.level) {\n\t\t\t\teffectData.effectOther.upEffectChipNmu = config.card;\t\t\t//设置特技升级需要的数量\n\t\t\t\tfor (let j = 0; j < config.gold.length; j++) {\n\t\t\t\t\tif (effectData.star == config.gold[j].star) {\n\t\t\t\t\t\teffectData.effectOther.spendGold = config.gold[j].gold;\t//设置升级花费的金币\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (let j = 0; j < config.exp.length; j++) {\n\t\t\t\t\tif (effectData.star == config.exp[j].star) {\n\t\t\t\t\t\teffectData.effectOther.getExp = config.exp[j].exp;\t\t//设置升级得到的经验\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic setEffectDamage(effectId: number, lv: number): number {\n\t\tlet id = null;\n\t\tfor (let i = 0; i < this.effectCfgTab.length; i++) {\n\t\t\tif (this.effectCfgTab[i].id == effectId) {\n\t\t\t\tif (this.effectCfgTab[i].ball_id) {\n\t\t\t\t\tid = this.effectCfgTab[i].ball_id;\n\t\t\t\t} else if (this.effectCfgTab[i].buff_id) {\n\t\t\t\t\tid = this.effectCfgTab[i].buff_id;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tlet effectDamage: number = 0;\n\t\tfor (let i = 0; i < this.ballCfgUpTab.length; i++) {\n\t\t\tif (id == this.ballCfgUpTab[i].ball_id && this.ballCfgUpTab[i].damage) {\n\t\t\t\tfor (let j = 0; j < this.ballCfgUpTab[i].damage.length; j++) {\n\t\t\t\t\tif (this.ballCfgUpTab[i].damage[j].level == lv) {\n\t\t\t\t\t\teffectDamage = this.ballCfgUpTab[i].damage[j].dmg;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (let i = 0; i < this.buffCfgUpTab.length; i++) {\n\t\t\tif (id == this.buffCfgUpTab[i].buff_id && this.buffCfgUpTab[i].damage) {\n\t\t\t\tfor (let j = 0; j < this.buffCfgUpTab[i].damage.length; j++) {\n\t\t\t\t\tif (this.buffCfgUpTab[i].damage[j].level == lv) {\n\t\t\t\t\t\teffectDamage = this.buffCfgUpTab[i].damage[j].dmg;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn effectDamage;\n\t}\n\n\t//保存特技配置操作\n\tpublic seteffectCfgListData(data: any): void {\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tfor (let j = 0; j < this.effectList.list.length; j++) {\n\t\t\t\tlet effect = this.effectList.list[j];\n\t\t\t\tif (effect.id == data[i]) {\n\t\t\t\t\tthis.effectCfgList.list[i].effectId = effect.itemId;\n\t\t\t\t\tthis.effectCfgList.list[i].isConfig = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.interimCfg = [];\n\t}\n\n\t//领取邮件奖励获得的特技数据处理\n\tpublic refreshData(data: any): void {\n\t\tif (!this.effectList.list) {\n\t\t\treturn;\n\t\t}\n\t\tfor (let key in data) {\n\t\t\tif (Number(key) == enums.Get_Skill) {\n\t\t\t\tfor (let i = 0; i < data[key].length; i++) {\n\t\t\t\t\tlet skillData = data[key][i];\n\t\t\t\t\tfor (let j = 0; j < this.effectList.list.length; j++) {\n\t\t\t\t\t\tlet effectData = this.effectList.list[j];\n\t\t\t\t\t\tif (skillData.itemId == effectData.itemId) {\n\t\t\t\t\t\t\teffectData.effectOther.effectChipNum += skillData.amount;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\taddEffect(data: any) {\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tlet obj = data[i];\n\t\t\tfor (let j = 0; j < this.effectList.list.length; j++) {\n\t\t\t\tlet effect_obj = this.effectList.list[i]\n\t\t\t\tif (obj.itemId == effect_obj.itemId) {\n\t\t\t\t\teffect_obj.effectOther.effectChipNum += obj.amount;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tgetAllTypeItem(data){\n\t\tconsole.log(data)\n\t\tif(data[enums.Get_Skill]){\n\t\t\tthis.addEffect(data[enums.Get_Skill])\n\t\t}\n\t}\n}"]}