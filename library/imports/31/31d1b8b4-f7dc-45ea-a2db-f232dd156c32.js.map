{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\modules\\plaza\\script\\guilds/assets\\modules\\plaza\\script\\guilds\\guildsInfo.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\modules\\plaza\\script\\guilds","sourcesContent":["import BaseModel from \"../../../../framework/baseClass/BaseModel\";\r\nimport BaseView from \"../../../../framework/baseClass/BaseView\";\r\nimport BaseCtrl from \"../../../../framework/baseClass/BaseCtrl\";\r\nimport GuildsMgr from \"../../../../manager/public/guildsMgr\";\r\nimport ShopMgr from \"../../../../manager/public/shopMgr\";\r\nimport UserMgr from \"../../../../manager/public/userMgr\";\r\n/*\r\nauthor: 陈斌杰\r\n日期:2018-11-09 15:25:14\r\n*/\r\n\r\n//MVC模块,\r\nconst { ccclass, property } = cc._decorator;\r\nlet ctrl: GuildsInfoCtrl;\r\n//模型，数据处理\r\nclass Model extends BaseModel {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n}\r\n//视图, 界面显示或动画，在这里完成\r\nclass View extends BaseView {\r\n\tprotected model: Model;\r\n\tprotected node: cc.Node;\r\n\tpublic ui={\r\n\t\tbtn_close: ctrl.btn_close,\r\n\t\tpref_guildsInfoPanel: ctrl.pref_guildsInfoPanel,\r\n\t\tpref_guildsFrame: ctrl.pref_guildsFrame,\r\n\t\tnode_funcBlocks: ctrl.node_funcBlocks,\r\n\t\tbtn_guildMembers: ctrl.btn_guildMembers,\r\n\t\tbtn_guildTreasureCase: ctrl.btn_guildTreasureCase,\r\n\t\tbtn_guildShop: ctrl.btn_guildShop,\r\n\t\tbtn_guildApplication: ctrl.btn_guildApplication,\r\n\t\tnode_panel: ctrl.node_panel,\r\n\t\tpref_guildShop: ctrl.pref_guildShop,\r\n\t\tpref_guildTreasureCasesPanel: ctrl.pref_guildTreasureCasesPanel,\r\n\t\tpref_guildsApplicationPanel: ctrl.pref_guildsApplicationPanel,\r\n\t\tguildsInfoPanel : null,\r\n\t\tguildsShopPanel : null,\r\n\t\tguildsTreasureCasePanel : null,\r\n\t\tguildsApplicationPanel : null,\r\n\t}\r\n\tconstructor(model){\r\n\t\tsuper(model);\r\n\t\tthis.node = ctrl.node;\r\n\t\tthis.initUi();\r\n\t}\r\n\t//初始化ui\r\n\tpublic initUi() {\r\n\t\tthis.ui.guildsInfoPanel=cc.instantiate(this.ui.pref_guildsInfoPanel);\r\n\t\tthis.ui.node_panel.addChild(this.ui.guildsInfoPanel);\r\n\t\tthis.ui.guildsShopPanel=cc.instantiate(this.ui.pref_guildShop);\t\t\r\n\t\tthis.ui.guildsShopPanel.active = false;\r\n\t\tthis.ui.node_panel.addChild(this.ui.guildsShopPanel);\r\n\t\tthis.ui.guildsTreasureCasePanel=cc.instantiate(this.ui.pref_guildTreasureCasesPanel);\t\t\r\n\t\tthis.ui.guildsTreasureCasePanel.active = false;\r\n\t\tthis.ui.node_panel.addChild(this.ui.guildsTreasureCasePanel);\r\n\t\tthis.ui.guildsApplicationPanel=cc.instantiate(this.ui.pref_guildsApplicationPanel);\t\t\r\n\t\tthis.ui.guildsApplicationPanel.active = false;\r\n\t\tthis.ui.node_panel.addChild(this.ui.guildsApplicationPanel);\r\n\t}\r\n\tinitGuildFrame()\r\n\t{\r\n\t\tlet prefabNode=cc.instantiate(this.ui.pref_guildsFrame);\r\n\t\tthis.node.addChild(prefabNode);\r\n\t\tthis.ui.node_funcBlocks.active = true;\r\n\t}\r\n\taddGuildMembersPanel()\r\n\t{\r\n\t\t//this.ui.node_panel.removeAllChildren();\r\n\t\tif(this.ui.guildsShopPanel) {\r\n\t\t\tthis.ui.guildsShopPanel.active = false;\r\n\t\t}\r\n\t\tif(this.ui.guildsInfoPanel) {\r\n\t\t\tthis.ui.guildsInfoPanel.active = true;\r\n\t\t}\r\n\t\tif(this.ui.guildsApplicationPanel) {\r\n\t\t\tthis.ui.guildsApplicationPanel.active = false;\r\n\t\t}\r\n\t\tif(this.ui.guildsTreasureCasePanel) {\r\n\t\t\tthis.ui.guildsTreasureCasePanel.active = false;\r\n\t\t}\r\n\t}\r\n\taddGuildShopPanel()\r\n\t{\r\n\t\t//this.ui.node_panel.removeAllChildren();\r\n\t\tif(this.ui.guildsInfoPanel) {\r\n\t\t\tthis.ui.guildsInfoPanel.active = false;\r\n\t\t}\r\n\t\tif(this.ui.guildsShopPanel) {\r\n\t\t\tthis.ui.guildsShopPanel.active = true;\r\n\t\t}\r\n\t\tif(this.ui.guildsApplicationPanel) {\r\n\t\t\tthis.ui.guildsApplicationPanel.active = false;\r\n\t\t}\r\n\t\tif(this.ui.guildsTreasureCasePanel) {\r\n\t\t\tthis.ui.guildsTreasureCasePanel.active = false;\r\n\t\t}\r\n\t}\r\n\taddGuildTreasureCasePanel()\r\n\t{\r\n\t\tif(this.ui.guildsInfoPanel) {\r\n\t\t\tthis.ui.guildsInfoPanel.active = false;\r\n\t\t}\r\n\t\tif(this.ui.guildsShopPanel) {\r\n\t\t\tthis.ui.guildsShopPanel.active = false;\r\n\t\t}\r\n\t\tif(this.ui.guildsApplicationPanel) {\r\n\t\t\tthis.ui.guildsApplicationPanel.active = false;\r\n\t\t}\r\n\t\tif(this.ui.guildsTreasureCasePanel) {\r\n\t\t\tthis.ui.guildsTreasureCasePanel.active = true;\r\n\t\t}\r\n\t}\r\n\taddGuildsApplicationPanel()\r\n\t{\r\n\t\tif(this.ui.guildsInfoPanel) {\r\n\t\t\tthis.ui.guildsInfoPanel.active = false;\r\n\t\t}\r\n\t\tif(this.ui.guildsShopPanel) {\r\n\t\t\tthis.ui.guildsShopPanel.active = false;\r\n\t\t}\r\n\t\tif(this.ui.guildsApplicationPanel) {\r\n\t\t\tthis.ui.guildsApplicationPanel.active = true;\r\n\t\t}\r\n\t\tif(this.ui.guildsTreasureCasePanel) {\r\n\t\t\tthis.ui.guildsTreasureCasePanel.active = false;\r\n\t\t}\r\n\t}\r\n}\r\n//c, 控制\r\n@ccclass\r\nexport default class GuildsInfoCtrl extends BaseCtrl {\r\n\tprotected view: View;\r\n\tprotected model: Model;\r\n\t//这边去声明ui组件\r\n\t@property(cc.Button)\r\n\tbtn_close: cc.Button = null;\r\n\t@property(cc.Prefab)\r\n\tpref_guildsInfoPanel: cc.Prefab = null;\r\n\t@property(cc.Prefab)\r\n\tpref_guildsFrame: cc.Prefab = null;\r\n\t@property(cc.Node)\r\n\tnode_funcBlocks: cc.Node = null;\r\n\t@property(cc.Button)\r\n\tbtn_guildMembers: cc.Button = null;\r\n\t@property(cc.Button)\r\n\tbtn_guildTreasureCase: cc.Button = null;\r\n\t@property(cc.Button)\r\n\tbtn_guildShop: cc.Button = null;\r\n\t@property(cc.Button)\r\n\tbtn_guildApplication: cc.Button = null;\r\n\t@property(cc.Node)\r\n\tnode_panel: cc.Node = null;\r\n\t@property(cc.Prefab)\r\n\tpref_guildShop: cc.Prefab = null;\r\n\t@property(cc.Prefab)\r\n\tpref_guildTreasureCasesPanel: cc.Prefab = null;\r\n\t@property(cc.Prefab)\r\n\tpref_guildsApplicationPanel: cc.Prefab = null;\r\n\t//声明ui组件end\r\n\t//这是ui组件的map,将ui和控制器或试图普通变量分离\r\n\r\n\r\n\tonLoad (){\r\n\t\t// 控制器\r\n\t\tctrl = this;\r\n\t\t// 创建mvc模式中模型和视图\r\n\t\tthis.initMvc(Model,View);\r\n\t\tthis.view.initGuildFrame();\r\n\t\tthis.view.addGuildMembersPanel();\r\n\t}\r\n\r\n\t//定义网络事件\r\n\tprotected defineNetEvents() {\r\n\t \tthis.n_events = {\r\n            'guild.member.quitGuild': this.guild_member_quitGuild,\r\n        };\r\n\t}\r\n\t//定义全局事件\r\n\tprotected defineGlobalEvents() {\r\n\t\tthis.g_events = {};\r\n\t}\r\n\t//绑定操作的回调\r\n\tconnectUi() {\r\n\t\tthis.connect(\"click\",this.ui.btn_close,()=>{\r\n\t\t\tGuildsMgr.getInstance().clearDatas();\r\n\t\t\tthis.closeModule(\"guildsInfo\");\r\n\t\t},\"关闭公会界面\");\r\n\t\tthis.connect(\"click\",this.ui.btn_guildMembers,this.btnGuildMembers.bind(this),\"公会成员\");\r\n\t\tthis.connect(\"click\",this.ui.btn_guildTreasureCase,this.btnGuildTreasureCase.bind(this),\"公会宝箱\");\r\n\t\tthis.connect(\"click\",this.ui.btn_guildShop,this.btnGuildShop.bind(this),\"公会商店\");\r\n\t\tthis.connect(\"click\",this.ui.btn_guildApplication,this.btnGuildApplication.bind(this),\"公会申请\");\r\n\t}\r\n\tbtnGuildApplication()\r\n\t{\r\n\t\tthis.view.addGuildsApplicationPanel();\r\n\t}\r\n\tbtnGuildShop()\r\n\t{\r\n\t\tthis.view.addGuildShopPanel();\r\n\t}\r\n\tbtnGuildTreasureCase()\r\n\t{\r\n\t\tthis.view.addGuildTreasureCasePanel();\r\n\t}\r\n\tbtnGuildMembers()\r\n\t{\r\n\t\tthis.view.addGuildMembersPanel();\r\n\t}\r\n\tguild_member_quitGuild()\r\n\t{\r\n\t\tGuildsMgr.getInstance().clearDatas();\r\n\t\tthis.closeModule(\"guildsInfo\");\r\n\t}\r\n\t//网络事件回调begin\r\n\t//end\r\n\t//全局事件回调begin\r\n\t//end\r\n\t//按钮或任何控件操作的回调begin\r\n\t//end\r\n\r\n\t// update(dt) {}\r\n\r\n\tonDestroy() {\r\n\t\tGuildsMgr.getInstance().clearDatas();\r\n\t\tsuper.onDestroy();\r\n\t}\r\n}"]}